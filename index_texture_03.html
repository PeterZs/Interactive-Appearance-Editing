
<html>
<head>
<script src="build/three.min.js"></script>
<!-- <script src="js_yuan/render.js"></script> -->

<script id="vertexShader" type="x-shader/x-vertex">
    varying vec2 vUv;

    void main() {
        vUv = uv;

        gl_Position =   projectionMatrix * 
                        modelViewMatrix * 
                        vec4(position,1.0);
    }
</script>

<script id="fragmentShader" type="x-shader/x-fragment">
    uniform sampler2D texture1;

    varying vec2 vUv;

    void main() {
        //gl_FragColor = texture2D(texture1, vUv); // Displays Nothing
        gl_FragColor = vec4(0.5, 0.2, 1.0, 1.0); // Works; Displays Flat Color
    }
</script>



</head>




<body>
<div id="WebGL-output">
</div>
<script type="text/javascript">
/*
    // once everything is loaded, we run our Three.js stuff.
    function init() {
        // Initialize WebGL Renderer
        var renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);

        // Initialize Scenes
        var scene = new THREE.Scene();

        // Initialize Camera
        var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 1, 100);
        camera.position.z = 10;

        // Create Light
        var light = new THREE.PointLight(0xFFFFFF);
        light.position.set(0, 0, 500);
        scene.add(light);

        // Create Ball
        var vertShader = document.getElementById('vertexShader').innerHTML;
        var fragShader = document.getElementById('fragmentShader').innerHTML;

        // var uniforms = {
        //     texture1: { type: 't', value: 0, texture: THREE.ImageUtils.loadTexture( 'assets/textures/basketball.png' ) }
        // };

        var uniforms = {
            texture1: { type: "t", value: THREE.TextureLoader( "assets/textures/basketball.png" ) }
        };

        var material = new THREE.ShaderMaterial({
            uniforms: uniforms,
            vertexShader: vertShader,
            fragmentShader: fragShader
        });

        var ball = new THREE.Mesh(new THREE.SphereGeometry(1, 50, 50), material);
        scene.add(ball);

        document.getElementById('WebGL-output').appendChild(renderer.domElement);

        // Render the Scene
        renderer.render(scene, camera);
    }
*/


    // once everything is loaded, we run our Three.js stuff.
    function init() {

        // create a scene, that will hold all our elements such as objects, cameras and lights.
        var scene = new THREE.Scene();

        // create a camera, which defines where we're looking at.
        var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.x = -30;
        camera.position.y = 40;
        camera.position.z = 30;
        camera.lookAt(scene.position);

        // axes helper
        // show axes in the screen
        var axes = new THREE.AxesHelper(50);
        scene.add(axes);

        // create a render and set the size
        var renderer = new THREE.WebGLRenderer();

        renderer.setClearColor(new THREE.Color(0xffffff, 1.0));
        renderer.setSize(window.innerWidth, window.innerHeight);

        // sphere

        var vertShader = document.getElementById('vertexShader').innerHTML;
        var fragShader = document.getElementById('fragmentShader').innerHTML;

        var uniforms = {
            texture1: { type: "t", value: THREE.TextureLoader( "assets/textures/basketball.png" ) }
        };

        var material = new THREE.ShaderMaterial({
            uniforms: uniforms,
            vertexShader: vertShader,
            fragmentShader: fragShader
        });

        var sphereGeometry = new THREE.SphereGeometry(4, 20, 20);
        //var sphereMaterial = new THREE.MeshLambertMaterial({color: 0x7777ff});
        var sphere = new THREE.Mesh(sphereGeometry, material);

        // position the sphere
        sphere.position.x = 0;
        sphere.position.y = 0;
        sphere.position.z = 0;
        sphere.castShadow = true;

        // add the sphere to the scene
        scene.add(sphere);

/*
        // Create Ball
        var vertShader = document.getElementById('vertexShader').innerHTML;
        var fragShader = document.getElementById('fragmentShader').innerHTML;

        var uniforms = {
            texture1: { type: "t", value: THREE.TextureLoader( "assets/textures/basketball.png" ) }
        };

        var material = new THREE.ShaderMaterial({
            uniforms: uniforms,
            vertexShader: vertShader,
            fragmentShader: fragShader
        });

        var ball = new THREE.Mesh(new THREE.SphereGeometry(1, 50, 50), material);
        ball.position.x = 0;
        ball.position.y = 0;
        ball.position.z = 0;
        scene.add(ball);
*/
        // position and point the camera to the center of the scene


        // add spotlight for the shadows
        var spotLight = new THREE.SpotLight(0xffffff);
        spotLight.position.set(-40, 60, -10);
        spotLight.castShadow = true;
        scene.add(spotLight);

        // add the output of the renderer to the html element
        document.getElementById("WebGL-output").appendChild(renderer.domElement);

        // call the render function
        renderer.render(scene, camera);
    }

    window.onload = init;

</script>  
</body>
</html>